<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-50700-3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {dataLayer.push(arguments); }
    gtag("js", new Date());

    gtag("config", "UA-50700-3");
 </script><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&amp;display=swap" rel="stylesheet"/><link rel="alternate" type="application/atom+xml" title="Atom feed for blog by Fumiaki Yoshimatsu" href="https://luckypines.com/feed.atom"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Butter Knife vs Android Annotations</title><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@fumiakiy"/><meta name="og:title" content="Butter Knife vs Android Annotations"/><meta name="twitter:title" content="Butter Knife vs Android Annotations"/><link rel="prev" href="https://luckypines.com/blog/this-is-so-awesome-i-cant-help-but-posting-it"/><link rel="next" href="https://luckypines.com/blog/android-horizontal-scroll-list-in-vertically"/><meta name="next-head-count" content="9"/><link rel="preload" href="/_next/static/css/64b34ea9b2889faf28d8.css" as="style"/><link rel="stylesheet" href="/_next/static/css/64b34ea9b2889faf28d8.css" data-n-g=""/><link rel="preload" href="/_next/static/css/9b0bc77bc3188cb01e3f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9b0bc77bc3188cb01e3f.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-591f24fdf217128ccce8.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.0c239260661ae1d12aa2.js" as="script"/><link rel="preload" href="/_next/static/chunks/c332eec026863555a27dac51ec167aa1a0b2daea.b0d8b3a553c082c94749.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-bcebaf8643a439c67406.js" as="script"/><link rel="preload" href="/_next/static/chunks/447cfa7d44c888c772d6119f6f6093046de0bb36.df9ec102d8f274c4414d.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bpostname%5D-6b0db52313629d37408b.js" as="script"/></head><body><div id="__next"><div class="blog"><article class="BlogPost_article__3W1r-"><h1>Butter Knife vs Android Annotations</h1><div>4/25/2015, 7:04:24 PM</div><div class="BlogPost_body__1oPZH"><div>There was a tech conference geared towards Android app developers, #DroidKaigi in Japan. I wasn’t able to attend unfortunately because it happened in Tokyo while I was in New York, but thanks to the folks who share most everything to the Internet, I could feel how it went. It sounds it went really well. Congratulations to the event organizers.</div><div>One thing that got me when I was reading those blogs and summaries about the conference was that <a href="http://jakewharton.github.io/butterknife/">Butter Knife</a> sounded more popular and better loved by them than <a href="http://androidannotations.org/">Android Annotations</a>. I just sent a new Android app to our quality assurance process. The app was completely written from scratch by myself, which uses Android Annotations everywhere and I was a little concerned that I might have chosen the wrong library (again…?).</div><div>But it turned out that I wasn’t that much wrong. Butter Knife solves a problem that Android Annotations also solves, but it doesn’t have a critical part (for me) that Android Annotations helped me a lot while working on my app; Extra, FragmentArg and InstanceState.</div><div>Without these annotations, I have had to write _very correct_ code to handle saveInstanceState and onCreate and everything else. Now it might sound trivial - you just have to pass objects to an Activity you are starting and the code to handle them is well pattern-ed by now - but when it comes to handling orientation changes it gets incredibly hard to write “the correct” code. Fortunately, Android Annotations does the right thing for you with this tiny cost of you have to be careful that you are going to start Activity_ (with the trailing underscore), not the Activity you write (AndroidManifest.xml).</div><div>To be honest, we did have problems with Android Annotations in developing the previous versions of our app, especially with EFragment and AfterViews injections, but it turned out it was our fault - mostly because we wrote code that does “view initialization” in AfterViews methods, which turned out to be called every time the view is created. In Android, orientation changes destroy views and they are recreated. With some of those “gotchas” in mind, Android Annotations served really well for me this time.</div><div>To make it a little clear, I didn’t write code that use Butter Knife. I didn’t use EBean, EService, Rest or any other fancy attributes that Android Annotations offer either. EActivity, EFragment, ViewById, Click, OptionsMenu, OptionsItem, Extra, FragmentArg, and InstanceState are the ones I used and loved. I might try to use some more in the upcoming versions, but those only still make significant difference. I understand when someone say Android Annotations is simple overkill; it did concern me when I think of those unused features that Android Annotations offer, but hey, I managed to keep away from <a href="https://github.com/google/guava">Guava</a> and the app still compiles without <a href="https://developer.android.com/tools/building/multidex.html">multidex</a> enabled.</div><div>I will write more about what I learned when I was writing the Android app soon.</div></div></article></div><footer class="BlogPost_footer__YgPcw"><a class="BlogPost_prev__2S7U6" href="/blog/this-is-so-awesome-i-cant-help-but-posting-it/">« <!-- -->This is so awesome I can’t help but posting it here.</a><a href="/blog/">Blog</a><a class="BlogPost_next__1yyYz" href="/blog/android-horizontal-scroll-list-in-vertically/">[Android] Horizontal scroll list in vertically scrolling list, and how to handle “ItemClick” event fired by each item<!-- --> » </a></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"slug":"/blog/butter-knife-vs-android-annotations","date":"Sat, 25 Apr 2015 23:04:24 GMT","title":"Butter Knife vs Android Annotations","epoch":"1430003064"},"markdownBody":"\n\nThere was a tech conference geared towards Android app developers, #DroidKaigi in Japan. I wasn’t able to attend unfortunately because it happened in Tokyo while I was in New York, but thanks to the folks who share most everything to the Internet, I could feel how it went. It sounds it went really well. Congratulations to the event organizers.\n\nOne thing that got me when I was reading those blogs and summaries about the conference was that [Butter Knife](http://jakewharton.github.io/butterknife/) sounded more popular and better loved by them than [Android Annotations](http://androidannotations.org/). I just sent a new Android app to our quality assurance process. The app was completely written from scratch by myself, which uses Android Annotations everywhere and I was a little concerned that I might have chosen the wrong library (again…?).\n\nBut it turned out that I wasn’t that much wrong. Butter Knife solves a problem that Android Annotations also solves, but it doesn’t have a critical part (for me) that Android Annotations helped me a lot while working on my app; Extra, FragmentArg and InstanceState.\n\nWithout these annotations, I have had to write \\_very correct\\_ code to handle saveInstanceState and onCreate and everything else. Now it might sound trivial - you just have to pass objects to an Activity you are starting and the code to handle them is well pattern-ed by now - but when it comes to handling orientation changes it gets incredibly hard to write “the correct” code. Fortunately, Android Annotations does the right thing for you with this tiny cost of you have to be careful that you are going to start Activity\\_ (with the trailing underscore), not the Activity you write (AndroidManifest.xml).\n\nTo be honest, we did have problems with Android Annotations in developing the previous versions of our app, especially with EFragment and AfterViews injections, but it turned out it was our fault - mostly because we wrote code that does “view initialization” in AfterViews methods, which turned out to be called every time the view is created. In Android, orientation changes destroy views and they are recreated. With some of those “gotchas” in mind, Android Annotations served really well for me this time.\n\nTo make it a little clear, I didn’t write code that use Butter Knife. I didn’t use EBean, EService, Rest or any other fancy attributes that Android Annotations offer either. EActivity, EFragment, ViewById, Click, OptionsMenu, OptionsItem, Extra, FragmentArg, and InstanceState are the ones I used and loved. I might try to use some more in the upcoming versions, but those only still make significant difference. I understand when someone say Android Annotations is simple overkill; it did concern me when I think of those unused features that Android Annotations offer, but hey, I managed to keep away from [Guava](https://github.com/google/guava) and the app still compiles without [multidex](https://developer.android.com/tools/building/multidex.html) enabled.\n\nI will write more about what I learned when I was writing the Android app soon.\n\n","navs":{"nextPage":{"epoch":"1430410079","title":"[Android] Horizontal scroll list in vertically scrolling list, and how to handle “ItemClick” event fired by each item","slug":"/blog/android-horizontal-scroll-list-in-vertically"},"prevPage":{"epoch":"1425486855","title":"This is so awesome I can’t help but posting it here.","slug":"/blog/this-is-so-awesome-i-cant-help-but-posting-it"}}},"__N_SSG":true},"page":"/blog/[postname]","query":{"postname":"butter-knife-vs-android-annotations"},"buildId":"V4ehGVCnvx6UL3M2szn1B","runtimeConfig":{},"nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-af28de04c604a2479390.js"></script><script src="/_next/static/chunks/main-591f24fdf217128ccce8.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.0c239260661ae1d12aa2.js" async=""></script><script src="/_next/static/chunks/c332eec026863555a27dac51ec167aa1a0b2daea.b0d8b3a553c082c94749.js" async=""></script><script src="/_next/static/chunks/pages/_app-bcebaf8643a439c67406.js" async=""></script><script src="/_next/static/chunks/447cfa7d44c888c772d6119f6f6093046de0bb36.df9ec102d8f274c4414d.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bpostname%5D-6b0db52313629d37408b.js" async=""></script><script src="/_next/static/V4ehGVCnvx6UL3M2szn1B/_buildManifest.js" async=""></script><script src="/_next/static/V4ehGVCnvx6UL3M2szn1B/_ssgManifest.js" async=""></script></body></html>