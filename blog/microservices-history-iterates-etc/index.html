<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-50700-3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {dataLayer.push(arguments); }
    gtag("js", new Date());

    gtag("config", "UA-50700-3");
 </script><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&amp;display=swap" rel="stylesheet"/><link rel="alternate" type="application/atom+xml" title="Atom feed for blog by Fumiaki Yoshimatsu" href="https://luckypines.com/feed.atom"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Microservices, history iterates, etc</title><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@fumiakiy"/><meta name="og:title" content="Microservices, history iterates, etc"/><meta name="twitter:title" content="Microservices, history iterates, etc"/><link rel="preload" href="/_next/static/css/f803da82129cfff3b310.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f803da82129cfff3b310.css" data-n-g=""/><link rel="preload" href="/_next/static/css/8ef8f478e5594aace8bd.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8ef8f478e5594aace8bd.css" data-n-p=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-9b5fc9f46811b6b5cf4d.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.a3ab6d70963b928e4674.js" as="script"/><link rel="preload" href="/_next/static/chunks/e82d01500e11e0131e78851aa17fd9f5e63d6c88.bd091e3a5f3b5e059835.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-2e0bb37eb34a28c399b9.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5Bpostname%5D-6f8d8d8828402ef66ddf.js" as="script"/></head><body><div id="__next"><a href="/blog" class="BlogPost_backlink__n7iOB">https://luckypines.com/blog</a><div class="blog"><article class="BlogPost_article__3W1r-"><h1>Microservices, history iterates, etc</h1><div>8/29/2014, 2:52:00 PM</div><div class="BlogPost_body__1oPZH"><div>It was in an episode of <a href="http://rebuild.fm">#rebuildfm</a> where I heard the term <a href="http://martinfowler.com/articles/microservices.html">microservices</a> for the first time. It sounded nothing new to me, but it’s among the latest buzzwords.</div><h2>Inter process communication</h2><div>I started my carrier as an instructor/conference speaker at around 1995. Windows NT 3.51 finally made threads available to COM based applications through it’s intrduction of MTA (multi-threaded apartment). COM or Component Object Model was a technology that enabled inter-application communication through OLE2 (Object Linking and Embeddding). OLE(1) enabled an Excel speadsheet be embedded in an Word document. OLE2 made a step further and made the underlying technology available to 3rd party developers through COM. In other words, it was unix pipe for a Windows GUI application. Inter-process communication took place on top of COM’s intra-process, inter-thread communication.</div><h2>Inter-machine communication</h2><div>With Windows NT 4 in 1996, Microsoft took a step even further and introduced DCOM, or Distributed COM. By 1996 with help by popularity of Windows 95, corporate intra-network became pretty popular. Client-Server system. Visual Basic application connected to Oracle 6 database. 3-tier, Windows DNA. Inter-machine communication took place. DCOM tried to solve the problem around programs communicates over machine boundary by leveraging COM inter-process communication.</div><div>It allowed programmers feel as if they were writing code that communicated with other COM interfaces over process boundary, even when they were writing code that actually communicated over machine boundary, over corporate, 100Base-T LAN.</div><div>DCOM even introduced DCOM over HTTP later so COM interfaces can be exposed over the Internet.</div><div>J2EE/EJB, CORBA, the same story, different companies involved.</div><h2>SOAP</h2><div>SOAP, or Simple Object Access Protocol, was born to make inter-machine communication over HTTP a reality. RPC can be replaced with HTTP protocol. Network data representation (NDR) can be replaced with an XML document. But SOAP is still a protocol for Object-RPC systems. It had been so until SOAP version 1.2. It was a tragedy for SOAP that SOAP v1.1 became too popular. Most dummy implementations of it naively believe RPC calls should look the same to programmers regardless of how long “the wire” was. SOAP 1.2 is a messaging protocol. It specifies a message format in XML Infoset which aimed to create an abstraction layer on top of XML document which is defined as text.</div><div>SOAP 1.2 defines headers and bodies and processing models; it looks very much like what HTTP is being used today. SOAP 1.2 was intended to use more transfer protocols than just HTTP because HTTP was text based and thought to be slow; SOAP over SMTP could also be possible; SOAP could also be used even in-process communication (XML Infoset can be serialized to a binary format). It was too late; when Microsoft introduced .NET Framework, even most product managers in Microsoft still saw SOAP to see objects, at the time .NET objects written in C#. WSDL does have a way to define document oriented interface as well as legacy, rpc oriented interface. Document oriented interface never became popular. “Wise” brains started to criticize how stupid the idea was to event think about doing RPC over the wire. Coarse-grained messages. Messages, not method calls. Services not objects. Service oriented architecture.</div><h2>SOA</h2><div>It was interesting few months of my carrier during these days, because I was also able to see that there was the other side of the world. Blue pill? Red pill?</div><div>In the other side of thew world, Movable Type made trackback familiar. Dave Winer advocates RSS 0.91 and 2.0. RSS reader applications. NOKIA lifeblog protocol that can post an entry to TypePad from your cellphone.</div><div>These are based on this simple notion - sending an XML document over HTTP (be it GET or POST), is very usable for inter-process communication, without a concrete specification on which all tech giants agree. View source. Blog hacks. (I feel funny that Fiddler the sniffer became very popular these days. It was during these days I first used Fiddler and loved it until I switched to Mac.)</div><div>And Google Maps. Ajax is not very much a “protocol” but more like a good old client-server communication. Its JavaScript calls fine grained methods. Google servers are fast enough to process that many number of method calls fast.</div><div>There was this buzzword - SOA during the timeframe around my carrier. In SOA, all participating endpoints agree not only on a protocol and a processing model, but they also agree on a very concrete “business process document schema”, at least in their ideal world. RosettaNet, BPEL, BizTalk.</div><div>On the other side though, Ajax exploded. RPC between JavaScript on a browser and an HTTP endpoint got popular among programmers once again. It does feel easier to architect coarse grained message with these important idea of “connections can be lost; messages can be half-broken, etc, etc”. All you do is call a simple method like “add(1, 2)” and get “3” as a result. Programmers love it. RPC is easier than Messaging.</div><div>It was SOA and this idea of “all parties agree on an XML schema” that finished me in that part of the world. It was a ridiculous idea to me given trackbacks and RSS were already working in practice out there.</div><div>I joined Amazon as a technical evangelist, to adovoate to programmers. that this part of the world was more fun. I wrote magazine articles about it. I talked about it at some tech conferences. I let other programmers know how fun it would be to write code that does internetwork communication through “API” until I realized it would be fun for me too. I stopped talking and started writing code at Six Apart.</div><h2>Well now what?</h2><div>Fast forward a few years, I am still writing code that is getting large codebase. Some parts in my code communicate inside the system itself, but over HTTP. I heard the word microservices. Where limited number of coarse grained messages are transferred between services in a system. Wait, is this deja vu?</div><div>No, I guess not, partly because it is still about a monolithic system (if you can call “Amazon.com” a monolithic system). It is not about Amazon.com communicates with Google.com (which was what SOA circa 2005 was trying to accomplish). Also everybody in this generation understands that calling an endpoint over HTTP is way more expensive than calling a method inside a process. C10K problems.</div><div>Well defined interface, but the parties who must agree on that interfaces are still within a firewall. History doesn’t just repeat; it iterates like it draws a spiral.</div><div>I do feel sad when this generation points fingers at and laughs at SOAP/WSDL though. It surely served my carrier. I even feel grateful to Microsoft to adapt to SOAP, for if it were not them, I wasn’t aware of those XML related stuff until a few years later, which should have made my carrier very different.</div><div>By the way, COM taught me this thing called interface based programming too. COM interfaces have functions but not data. COM is not OO - you start by writing an interface definition by this language called IDL. Doesn’t it sound familiar?</div></div></article></div><footer class="BlogPost_footer__YgPcw"><a href="/blog" class="BlogPost_backlink__n7iOB">https://luckypines.com/blog</a></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"slug":"/blog/microservices-history-iterates-etc","date":"Fri, 29 Aug 2014 18:52:00 GMT","title":"Microservices, history iterates, etc","epoch":"1409338320"},"markdownBody":"\n\nIt was in an episode of [#rebuildfm](http://rebuild.fm) where I heard the term [microservices](http://martinfowler.com/articles/microservices.html) for the first time. It sounded nothing new to me, but it’s among the latest buzzwords.\n\nInter process communication\n---------------------------\n\nI started my carrier as an instructor/conference speaker at around 1995. Windows NT 3.51 finally made threads available to COM based applications through it’s intrduction of MTA (multi-threaded apartment). COM or Component Object Model was a technology that enabled inter-application communication through OLE2 (Object Linking and Embeddding). OLE(1) enabled an Excel speadsheet be embedded in an Word document. OLE2 made a step further and made the underlying technology available to 3rd party developers through COM. In other words, it was unix pipe for a Windows GUI application. Inter-process communication took place on top of COM’s intra-process, inter-thread communication.\n\nInter-machine communication\n---------------------------\n\nWith Windows NT 4 in 1996, Microsoft took a step even further and introduced DCOM, or Distributed COM. By 1996 with help by popularity of Windows 95, corporate intra-network became pretty popular. Client-Server system. Visual Basic application connected to Oracle 6 database. 3-tier, Windows DNA. Inter-machine communication took place. DCOM tried to solve the problem around programs communicates over machine boundary by leveraging COM inter-process communication.\n\nIt allowed programmers feel as if they were writing code that communicated with other COM interfaces over process boundary, even when they were writing code that actually communicated over machine boundary, over corporate, 100Base-T LAN.\n\nDCOM even introduced DCOM over HTTP later so COM interfaces can be exposed over the Internet.\n\nJ2EE/EJB, CORBA, the same story, different companies involved.\n\nSOAP\n----\n\nSOAP, or Simple Object Access Protocol, was born to make inter-machine communication over HTTP a reality. RPC can be replaced with HTTP protocol. Network data representation (NDR) can be replaced with an XML document. But SOAP is still a protocol for Object-RPC systems. It had been so until SOAP version 1.2. It was a tragedy for SOAP that SOAP v1.1 became too popular. Most dummy implementations of it naively believe RPC calls should look the same to programmers regardless of how long “the wire” was. SOAP 1.2 is a messaging protocol. It specifies a message format in XML Infoset which aimed to create an abstraction layer on top of XML document which is defined as text.\n\nSOAP 1.2 defines headers and bodies and processing models; it looks very much like what HTTP is being used today. SOAP 1.2 was intended to use more transfer protocols than just HTTP because HTTP was text based and thought to be slow; SOAP over SMTP could also be possible; SOAP could also be used even in-process communication (XML Infoset can be serialized to a binary format). It was too late; when Microsoft introduced .NET Framework, even most product managers in Microsoft still saw SOAP to see objects, at the time .NET objects written in C#. WSDL does have a way to define document oriented interface as well as legacy, rpc oriented interface. Document oriented interface never became popular. “Wise” brains started to criticize how stupid the idea was to event think about doing RPC over the wire. Coarse-grained messages. Messages, not method calls. Services not objects. Service oriented architecture.\n\nSOA\n---\n\nIt was interesting few months of my carrier during these days, because I was also able to see that there was the other side of the world. Blue pill? Red pill?\n\nIn the other side of thew world, Movable Type made trackback familiar. Dave Winer advocates RSS 0.91 and 2.0. RSS reader applications. NOKIA lifeblog protocol that can post an entry to TypePad from your cellphone.\n\nThese are based on this simple notion - sending an XML document over HTTP (be it GET or POST), is very usable for inter-process communication, without a concrete specification on which all tech giants agree. View source. Blog hacks. (I feel funny that Fiddler the sniffer became very popular these days. It was during these days I first used Fiddler and loved it until I switched to Mac.)\n\nAnd Google Maps. Ajax is not very much a “protocol” but more like a good old client-server communication. Its JavaScript calls fine grained methods. Google servers are fast enough to process that many number of method calls fast.\n\nThere was this buzzword - SOA during the timeframe around my carrier. In SOA, all participating endpoints agree not only on a protocol and a processing model, but they also agree on a very concrete “business process document schema”, at least in their ideal world. RosettaNet, BPEL, BizTalk.\n\nOn the other side though, Ajax exploded. RPC between JavaScript on a browser and an HTTP endpoint got popular among programmers once again. It does feel easier to architect coarse grained message with these important idea of “connections can be lost; messages can be half-broken, etc, etc”. All you do is call a simple method like “add(1, 2)” and get “3” as a result. Programmers love it. RPC is easier than Messaging.\n\nIt was SOA and this idea of “all parties agree on an XML schema” that finished me in that part of the world. It was a ridiculous idea to me given trackbacks and RSS were already working in practice out there.\n\nI joined Amazon as a technical evangelist, to adovoate to programmers. that this part of the world was more fun. I wrote magazine articles about it. I talked about it at some tech conferences. I let other programmers know how fun it would be to write code that does internetwork communication through “API” until I realized it would be fun for me too. I stopped talking and started writing code at Six Apart.\n\nWell now what?\n--------------\n\nFast forward a few years, I am still writing code that is getting large codebase. Some parts in my code communicate inside the system itself, but over HTTP. I heard the word microservices. Where limited number of coarse grained messages are transferred between services in a system. Wait, is this deja vu?\n\nNo, I guess not, partly because it is still about a monolithic system (if you can call “Amazon.com” a monolithic system). It is not about Amazon.com communicates with Google.com (which was what SOA circa 2005 was trying to accomplish). Also everybody in this generation understands that calling an endpoint over HTTP is way more expensive than calling a method inside a process. C10K problems.\n\nWell defined interface, but the parties who must agree on that interfaces are still within a firewall. History doesn’t just repeat; it iterates like it draws a spiral.\n\nI do feel sad when this generation points fingers at and laughs at SOAP/WSDL though. It surely served my carrier. I even feel grateful to Microsoft to adapt to SOAP, for if it were not them, I wasn’t aware of those XML related stuff until a few years later, which should have made my carrier very different.\n\nBy the way, COM taught me this thing called interface based programming too. COM interfaces have functions but not data. COM is not OO - you start by writing an interface definition by this language called IDL. Doesn’t it sound familiar?\n\n"},"__N_SSG":true},"page":"/blog/[postname]","query":{"postname":"microservices-history-iterates-etc"},"buildId":"9MCSZNSLliyawXpWZCOp2","runtimeConfig":{},"nextExport":false,"isFallback":false,"gsp":true,"head":[["meta",{"charSet":"utf-8"}],["meta",{"name":"viewport","content":"width=device-width, initial-scale=1.0"}],["title",{"children":"Microservices, history iterates, etc"}],["meta",{"name":"twitter:card","content":"summary"}],["meta",{"name":"twitter:site","content":"@fumiakiy"}],["meta",{"name":"og:title","content":"Microservices, history iterates, etc"}],["meta",{"name":"twitter:title","content":"Microservices, history iterates, etc"}]]}</script><script nomodule="" src="/_next/static/chunks/polyfills-a98cee78eb8282e29fb6.js"></script><script src="/_next/static/chunks/main-9b5fc9f46811b6b5cf4d.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.a3ab6d70963b928e4674.js" async=""></script><script src="/_next/static/chunks/e82d01500e11e0131e78851aa17fd9f5e63d6c88.bd091e3a5f3b5e059835.js" async=""></script><script src="/_next/static/chunks/pages/_app-2e0bb37eb34a28c399b9.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5Bpostname%5D-6f8d8d8828402ef66ddf.js" async=""></script><script src="/_next/static/9MCSZNSLliyawXpWZCOp2/_buildManifest.js" async=""></script><script src="/_next/static/9MCSZNSLliyawXpWZCOp2/_ssgManifest.js" async=""></script></body></html>